# コンテナ堅牢化

コンテナはアプリケーションのデプロイと管理の方法に革命をもたらし、柔軟性と拡張性をもたらしました。しかし、他のテクノロジと同様に、コンテナもセキュリティリスクを免れません。これらのリスクを軽減するには、コンテナ堅牢化を実施することが極めて重要です。このドキュメントはコンテナを保護するためのベストプラクティスとガイドラインを概説し、さらに情報を得るための参考情報を提供します。

## コンテナ堅牢化ベストプラクティス

- **信頼できるベースイメージのみを使用します**
公式リポジトリや評判の良いベンダーなど、信頼できるソースからベースイメージを使用するようにします。ベースイメージを定期的に更新して、最新のセキュリティパッチや修正プログラムを適用します。

- **セキュリティパッチを適用します**
定期的にセキュリティパッチを適用して、すべてのコンテナソフトウェアと依存関係を最新の状態に保ちます。これには、ホストシステム、コンテナランタイム、追加のソフトウェアやライブラリを含みます。

- **最小権限の原則を実装します**
コンテナ構成に最小権限の原則を適用します。ルートアクセスを制限したり、権限昇格の機会を最小限に抑えるなど、コンテナの機能を制限します。

- **リソース制限を有効にします**
コンテナのリソース制限を定義して、リソース枯渇攻撃を防ぎます。CPU、メモリ、ネットワーク帯域幅に適切な制限を設定し、公平なリソース共有を確保して、DoS 攻撃から保護します。

- **イメージ脆弱性スキャンを使用します**
イメージ脆弱性スキャンツールを使用し、コンテナイメージの既知の脆弱性を特定して修正します。これらのツールはセキュリティリスクに関する貴重な洞察を提供し、適切な修正を提案します。詳細については [コンテナ脆弱性スキャン](3-1-3-1-Container-scanning.md) をチェックしてください。

- **安全なネットワーク構成を採用します**
コンテナネットワークのセグメンテーションや分離など、ネットワークセキュリティコントロールを実装します。ファイアウォールとネットワークポリシーを使用して、コンテナ通信を制限し、認可されていないアクセスを防ぎます。

- **ホストシステムを堅牢化します**
コンテナエンジンを実行するホストシステムを堅牢化して定期的に更新するようにします。パッチ管理、アクセス制御、侵入検知など、基盤となるインフラストラクチャを保護するためのベストプラクティスに従います。

- **コンテナランタイムセキュリティ対策を実装します**
SELinux, AppArmor, seccomp などのコンテナランタイムが提供するセキュリティ機能を活用して、追加のセキュリティポリシーを適用し、コンテナの動作を制限します。

- **コンテナアクティビティを監視します**
ログ記録と監視のメカニズムを導入して、セキュリティインシデントを検出して対応します。コンテナの動作、アクセスログ、システムログを監視して、疑わしい動作を特定します。

- **コンテナレジストリを保護します**
コンテナレジストリを保護することで、コンテナイメージを保護します。認証、アクセス制御、暗号化を実装して、認可されたユーザーのみがコンテナイメージにアクセスおよび変更できるようにします。

---

### リンク

- [CIS Benchmarks for Docker and Kubernetes](https://www.cisecurity.org/benchmark/docker/)
- [Docker Security](https://docs.docker.com/engine/security/)
- [Kubernetes Security](https://kubernetes.io/docs/concepts/security/)
- [NIST Special Publication 800-190: Application Container Security Guide](https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-190.pdf)
- [OWASP Docker Security Project](https://owasp.org/www-project-docker-security/)
